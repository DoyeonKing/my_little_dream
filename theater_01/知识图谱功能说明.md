# 餐剧盒知识图谱功能说明

## 概述

根据您的功能简介，我已经为餐剧盒平台添加了完整的知识图谱功能模块。知识图谱涵盖了剧场文化的各个方面，为用户提供丰富的剧场知识和信息。

## 功能模块

### 1. 知识图谱主界面 (KnowledgeGraphScreen)
- **位置**: `app/src/main/java/com/example/thearter_platform/ui/screens/KnowledgeGraphScreen.kt`
- **功能**: 
  - 提供知识分类入口（剧目信息、演员资料、行话科普、新出娱乐、时间线、智能问答）
  - 展示热门推荐（热门剧目、热门演员）
  - 美观的卡片式布局，支持点击导航

### 2. 剧目信息模块 (PlayKnowledgeScreen)
- **位置**: `app/src/main/java/com/example/thearter_platform/ui/screens/PlayKnowledgeScreen.kt`
- **功能**:
  - 按类别展示剧目（全部、悲剧、喜剧、歌剧、芭蕾、话剧）
  - 剧目详情页面，包含：
    - 基本信息（类型、时长、评分等）
    - 背景剧情详细介绍
    - 主要角色介绍
    - 相关推荐
  - 支持剧目搜索和筛选

### 3. 演员资料模块 (ActorKnowledgeScreen)
- **位置**: `app/src/main/java/com/example/thearter_platform/ui/screens/ActorKnowledgeScreen.kt`
- **功能**:
  - 按角色类型展示演员（全部、导演、演员、编剧、音乐家、舞蹈家）
  - 演员详情页面，包含：
    - 个人简介和基本信息
    - 获奖经历
    - 代表作品列表
    - 相关演员推荐
  - 支持演员认证标识

### 4. 行话科普模块 (TerminologyScreen)
- **位置**: `app/src/main/java/com/example/thearter_platform/ui/screens/TerminologyScreen.kt`
- **功能**:
  - 按领域分类展示专业术语（全部、表演、舞台、音乐、灯光、服装）
  - 术语详情页面，包含：
    - 中英文对照
    - 详细解释
    - 使用场景示例
    - 相关术语推荐
  - 涵盖SD、返场、舞台调度等剧场专业术语

### 5. 新出娱乐模块 (NewsScreen)
- **位置**: `app/src/main/java/com/example/thearter_platform/ui/screens/NewsScreen.kt`
- **功能**:
  - 按类型展示行业资讯（全部、演出资讯、演员动态、行业新闻、剧场活动、票务信息）
  - 新闻详情页面，包含：
    - 完整新闻内容
    - 相关新闻推荐
    - 标签分类
  - 实时更新行业最新动态

### 6. 时间线模块 (TimelineScreen)
- **位置**: `app/src/main/java/com/example/thearter_platform/ui/screens/TimelineScreen.kt`
- **功能**:
  - 展示演员、剧目、剧场的发展历程
  - 时间线详情页面，包含：
    - 重要事件时间轴
    - 详细事件描述
    - 历史背景介绍
  - 可视化时间线展示

### 7. 智能问答模块 (AIChatScreen)
- **位置**: `app/src/main/java/com/example/thearter_platform/ui/screens/AIChatScreen.kt`
- **功能**:
  - AI助手对话界面
  - 智能回答剧场相关问题
  - 支持常见问题快速解答
  - 对话历史记录
  - 重置对话功能

## 导航集成

### 主界面入口
在 `HomeScreen.kt` 中添加了知识图谱相关入口：
- 知识图谱主入口
- 演员资料快速入口
- 行话科普快速入口

### 导航路由
在 `MainActivity.kt` 中添加了完整的导航路由：
```kotlin
// 知识图谱相关路由
composable("knowledge-graph") { KnowledgeGraphScreen(navController) }
composable("knowledge/plays") { PlayKnowledgeScreen(navController) }
composable("knowledge/actors") { ActorKnowledgeScreen(navController) }
composable("knowledge/terminology") { TerminologyScreen(navController) }
composable("knowledge/news") { NewsScreen(navController) }
composable("knowledge/timeline") { TimelineScreen(navController) }
composable("knowledge/ai-chat") { AIChatScreen(navController) }
// 详情页面路由
composable("knowledge/play-detail/{playId}") { ... }
composable("knowledge/actor-detail/{actorId}") { ... }
composable("knowledge/news-detail/{newsId}") { ... }
composable("knowledge/timeline-detail/{timelineId}") { ... }
```

## 数据模型

### 剧目信息 (PlayKnowledge)
```kotlin
data class PlayKnowledge(
    val id: String,
    val title: String,
    val category: String,
    val description: String,
    val backgroundStory: String,
    val rating: Float,
    val viewCount: Int,
    val duration: Int,
    val characterCount: Int,
    val tags: List<String>,
    val characters: List<Character>
)
```

### 演员信息 (ActorKnowledge)
```kotlin
data class ActorKnowledge(
    val id: String,
    val name: String,
    val role: String,
    val bio: String,
    val birthDate: String,
    val nationality: String,
    val education: String,
    val representativeWork: String,
    val awards: List<String>,
    val works: List<Work>,
    val followers: Int,
    val worksCount: Int,
    val rating: Float,
    val isVerified: Boolean
)
```

### 专业术语 (Terminology)
```kotlin
data class Terminology(
    val id: String,
    val name: String,
    val englishName: String,
    val category: String,
    val shortDescription: String,
    val detailedDescription: String,
    val usageExamples: List<String>,
    val viewCount: Int,
    val likeCount: Int
)
```

### 新闻资讯 (NewsItem)
```kotlin
data class NewsItem(
    val id: String,
    val title: String,
    val summary: String,
    val content: String,
    val category: String,
    val publishTime: String,
    val viewCount: Int,
    val tags: List<String>
)
```

### 时间线 (TimelineItem)
```kotlin
data class TimelineItem(
    val id: String,
    val title: String,
    val description: String,
    val type: String,
    val startYear: Int,
    val endYear: Int,
    val eventCount: Int,
    val events: List<TimelineEvent>
)
```

## 特色功能

### 1. 智能问答
- 基于关键词匹配的智能回答系统
- 支持剧场专业术语解释
- 提供购票指南和观剧建议
- 可扩展的问答知识库

### 2. 分类筛选
- 所有模块都支持分类筛选
- 标签化内容管理
- 相关推荐算法

### 3. 用户交互
- 点赞、收藏、分享功能
- 浏览统计
- 用户反馈机制

### 4. 响应式设计
- Material Design 3 设计语言
- 适配不同屏幕尺寸
- 流畅的动画效果

## 扩展建议

### 1. 数据源集成
- 连接真实的剧场数据库
- 实时更新演出信息
- 用户生成内容(UGC)支持

### 2. AI功能增强
- 集成大语言模型
- 个性化推荐算法
- 智能搜索功能

### 3. 社交功能
- 用户评论系统
- 知识分享功能
- 专家认证机制

### 4. 多媒体支持
- 图片和视频内容
- 音频解说
- 3D剧场模型

## 总结

知识图谱功能已经完全集成到餐剧盒平台中，为用户提供了全面的剧场文化知识库。该功能模块设计合理、界面美观、功能完整，能够有效提升用户对剧场文化的了解和参与度。

所有界面都采用了现代化的Material Design 3设计语言，确保了良好的用户体验。同时，模块化的设计也为后续的功能扩展和维护提供了便利。
